---
title: "Sessions vs JWT"
categories:
  - DataBase
tags:
  - index
---

## Sessions(세션)

1. 로그인을 하면 유저명과 비밀번호를 서버에 보낸다.
2. 비밀번호가 일치하면 세션 DB에 유저를 생성한다. 해당 세션에는 별도의 ID가 있는데 이것을 세션id라고 부른다.
3. 세션ID는 쿠키를 통해 브라우저로 돌아오게 되고 저장된다.
4. 모든 요청이 들어올 때마다 서버는 쿠키를 받아서 세션ID를 확인해 일치하는 유저를 세션DB에서 찾는다.
   
- 같은 웹사이트의 다른 페이지로 이동하면 브라우저는 세션ID를 갖고있는 쿠리를 서버한테 보내진다.
- **유저가 갖고 있는것은 세션ID일뿐, 중요한 유저 정보는 모두 서버에 있다.**
- DB는 주로 Redis를 사용한다.

### **장점**
- 서버에서 로그인된 유저의 모든 정보를 저장하고 있기 때문에,세션 삭제를 통해 강제 로그아웃 기능 구현 가능

### **단점**
- 쿠키의 공간 제약이 있다.
- 유저가 늘어날수록 DB도 커져야한다. 이에 따라 유지 비용이 증가한다.

## JWT
세션 인증 방식과 달리 서버에서 DB를 생성하지 않는다.<br>
서버는 토큰을 생성해서 클라이언트에게 넘겨주고, 서버는 토큰이 유효한지만 검증한다.

### **장점**
- 생성된 토큰을 추적하지 않기 때문에, DB를 사용하지 않는다.
- 사인된 데이터가 만료되기 전까지 유효성을 검증할 수 있다.

### **단점**
- 유저의 로그인 정보가 추적되지 않기 때문에, 강제 로그아웃이 불가능하다.
- JWT 토큰은 암호화되있지 않기 때문에, 노출되면 누구나 열어서 해당 컨텐츠를 볼 수 있다.
- 저장할 필드 수에 따라서 토큰이 커질 수 있다.
- 토큰이 모든 요청에 대해 전송되면 데이터 트래픽 크기에 영향을 미칠 수 있다.

## 결론
JWT 인증방식으로 쉽고 빠르게 인증 시스템을 구축할 수 있다. <br>
하지만 서비스 규모가 커지고, 유저 계정을 좀 더 잘 관리하고 싶다면 세션 인증방시을 이용하는게 좋을거 같다.
